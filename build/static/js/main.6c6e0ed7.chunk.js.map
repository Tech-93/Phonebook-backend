{"version":3,"sources":["components/Filter.js","services/persons.js","components/PersonForm.js","components/Remove.js","components/Person.js","components/Render.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","value","searchword","onChange","handleSearchChange","baseUrl","axios","get","newObject","post","id","delete","object","put","PersonForm","onSubmit","event","preventDefault","nameObject","name","newName","number","newNumber","persons","map","person","toLowerCase","includes","personService","then","response","setPersons","concat","data","setNewName","setNewNumber","setMessage","setTimeout","catch","error","window","confirm","find","p","console","log","handleNameChange","handleNumberChange","type","Remove","onClick","location","reload","Person","Render","displayPersons","filter","key","Notification","message","className","App","useState","setSearchword","useEffect","length","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6c6e0ed7.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    return (\n        <div>\n            <form>\n        <div> filter shown with <input value={props.searchword} onChange={props.handleSearchChange} /> </div>\n      </form>\n        </div>\n    )\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => axios.get(baseUrl)\n\nconst create = newObject => axios.post(baseUrl, newObject)\n\nconst remove = id => axios.delete(baseUrl + '/' + id)\n\nconst replace = (id, object) => axios.put(baseUrl + '/' + id, object)\n\n\nexport default {getAll, create, remove, replace}","import React from 'react'\nimport personService from '../services/persons'\n\n\nconst PersonForm = (props) => {\n\n  \n\n\n    const addPerson = (event) => {\n        event.preventDefault()\n    \n        const nameObject = {\n          name: props.newName,\n          number: props.newNumber\n        }\n    \n        var names = props.persons.map((person) => person.name.toLowerCase())\n\n\n        if(names.includes(props.newName.toLowerCase()) === false) {\n          personService.create(nameObject).then(response => {\n            props.setPersons(props.persons.concat(response.data))\n            props.setNewName('')\n            props.setNewNumber('')\n\n            props.setMessage(\n              'Added ' + props.newName\n            )\n\n            setTimeout(() => {\n              props.setMessage('')\n            }, 5000)\n\n          })\n          .catch(error => {\n            props.setMessage(error.response.data.error)\n            setTimeout(() => {\n              props.setMessage('')\n            }, 5000)\n          })\n\n\n      } else {\n        var conf = window.confirm(`${props.newName} is already added to phonebook, replace the old number with a new one?`)\n\n        if(conf) {\n          const person = props.persons.find(p => p.name === props.newName)\n          person.number = props.newNumber\n\n          personService.replace(person.id, person).then(response => {\n            console.log('done')\n            props.setPersons(props.persons)\n            props.setNewName('')\n            props.setNewNumber('')\n          })\n          .catch(error => {\n            props.setMessage('Information on ' + props.newName + ' has already been removed from server')\n            setTimeout(() => {\n              props.setMessage('')\n            }, 5000)\n          })\n          \n\n        } else {\n          props.setNewName('')\n          props.setNewNumber('')\n        }\n      }\n    }\n    \n\n\n\n    return(\n        <div>\n        <form onSubmit={addPerson} >\n         <div>  name: <input value={props.newName} onChange={props.handleNameChange} /> </div>\n         <div>  number: <input value={props.newNumber} onChange={props.handleNumberChange} /> </div>\n         <div>\n             <button type=\"submit\">add</button>\n         </div>\n      </form>\n        </div>\n    )\n}\n\nexport default PersonForm","import React from 'react'\nimport personService from '../services/persons'\n\n\nconst Remove = ({person}) => {\n\n    const handleClick = () => {\n    var conf = window.confirm('Delete ' + person.name + ' ?')\n    \n    if(conf) {\n        personService.remove(person.id).then(response => {\n            window.location.reload()\n        })\n    }\n}\n\n    return(\n        <button onClick={handleClick} > delete </button>\n    )\n}\n\nexport default Remove","import React from 'react'\nimport Remove from './Remove'\n\n\nconst Person = ({ person } ) => {\n\n\n    return (\n      <div> {person.name} {person.number} <Remove person={person}  />   </div>\n    )\n  }\n\n  export default Person","import React from 'react'\nimport Person from './Person'\n\n\n\nconst Render = (props) => {\n  \n\n\n  const displayPersons = props.persons.filter(person => person.name.toLowerCase().includes(props.searchword))\n    \n  const renderPersons = () => displayPersons.map(person =>\n    <Person key={person.name} person={person}  />\n  )\n\n  \n    return(\n        <div> {renderPersons()} </div>\n    )\n}\n\n  export default Render","import React from 'react'\n\nconst Notification = ( {message} ) => {\n     \n\n    if(message===''){\n        return null\n    } else if (message.includes('Information on')) {\n        return <div className=\"errorMessage\" > {message} </div>\n    } else if (message.includes('Person validation failed')) {\n        return <div className=\"errorMessage\" > {message} </div>\n    } else {  \n    return <div className=\"message\" > {message} </div>\n  }\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Render from './components/Render'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport './index.css'\n\n\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchword, setSearchword] = useState('')\n  const [message, setMessage] = useState('')\n\n\n  \n  \n  useEffect(() => {\n    personService.getAll().then(response => {\n      setPersons(response.data)\n    })\n      \n  }, [])\n  console.log('render', persons.length, 'notes')\n\n\n\n\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) =>{\n    console.log(event.target.value)\n    setSearchword(event.target.value.toLowerCase())\n\n  }\n\n\n\n\n\n  return (\n    <div>\n\n      <h1>Phonebook</h1>\n\n      <Notification message={message} setMessage={setMessage}  />\n\n      <Filter \n      searchword = {searchword}\n      handleSearchChange = {handleSearchChange}\n      />\n\n\n\n      <h2> add a new </h2>\n\n      <PersonForm \n      newName = {newName}\n      setNewName = {setNewName}\n    \n      newNumber = {newNumber}\n      setNewNumber = {setNewNumber}\n\n      persons = {persons}\n      setPersons = {setPersons}\n      \n      handleNameChange = {handleNameChange}\n      handleNumberChange = {handleNumberChange}\n\n      message={message}\n      setMessage={setMessage}\n      />\n\n\n\n      <h2>Numbers</h2>\n\n      <Render \n      persons = {persons} \n      searchword = {searchword}\n      \n      \n      \n      />\n\n    </div>\n  )\n}\n\n\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}